" Copy & Paste
"------------------------
"
" For some reason Vim no longer wants to talk to the OS X pasteboard through *
function! g:CopyVisualText()
  let cur_register_contents = @c
  normal! gv
  normal! "cy
  normal! gv
  silent call system('pbcopy', @c)
endfunction

vnoremap <leader>cp :<c-u>call g:CopyVisualText()<cr>
nnoremap <leader>cw mmviw:<c-u>call g:CopyVisualText()<cr><esc>`m
nnoremap <leader>p :r!pbpaste<cr>
nnoremap <leader>ca :call CopyEntireFile()<cr>

function! CopyEntireFile()
    normal mmggVG,cp`m
    echohl String | echon "Buffer contents copied!" | echohl None
endfunction

" vim:ft=vim
