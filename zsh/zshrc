# Path to your oh-my-zsh configuration.
export ZSH=$HOME/.oh-my-zsh

export DISABLE_AUTO_UPDATE="true"

# Zsh theme, loaded from ~/.oh-my-zsh/themese. Set to 'random' for fun
export ZSH_THEME="cjt"

# Quick jumping to ~/code & $HOME directories
c(){cd ~/code/$1;}
compctl -W ~/code -/ c
# h(){cd ~/$1;}
# compctl -W ~/ -/ h

# List all symlinks in current directory #TODO where do they point?
lns() {
    find ./ -type l -maxdepth 1 | awk '{ sub(/.\/+/, ""); print }'
}
lnsm() {
    find -L ./ -maxdepth 1 -type l | awk '{ sub(/.\/+/, ""); print }'
}

# Convenice aliases
alias ls="ls -FG"
alias la="ls -la"

alias ez='vim ~/.zshrc'
alias sz='source ~/.zshrc'

alias gf='git flow'

# Markdown preview to html with local css
function mkd2tmphtml {
    tempfile="/tmp/$$.html";
    pandoc $1 -t html -c $HOME/.pandoc-mkd-style.css > $tempfile;
    open $tempfile;
    return 0;
}

# Tmux aliases
alias tls="tmux list-sessions"
alias ta="tmux attach"

# Some fun with switching the foreground terminal process
# Use Ctrl-z to freeze current fg process (ie vim), do something else
# in the shell, ie manpage lookup, then use Ctrl-g to get back to vim
# ref: http://oinopa.com/2010/10/24/laptop-driven-development.html
# TODO Get Ctrl-f set as the freeze command
export HISTIGNORE="fg*"
bindkey -s '\C-g' 'fg\n'
# bind '"\C-g": "fg %-\n"'  ----The Bash way

# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(git git-flow)

source $ZSH/oh-my-zsh.sh

# Customize to your needs...
export PATH=$HOME/mbin:/Users/nation/.rvm/gems/ruby-1.9.2-p0@rails3/bin:/Users/nation/.rvm/gems/ruby-1.9.2-p0@global/bin:/Users/nation/.rvm/rubies/ruby-1.9.2-p0/bin:/Users/nation/.rvm/bin:/Users/nation/bin:/usr/local/mysql/bin:/opt/local/bin:/opt/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin:/usr/X11/bin

# use .localrc for settings specific to one system
[[ -f ~/.localrc ]] && . ~/.localrc

[[ -s $HOME/.rvm/scripts/rvm ]] && source $HOME/.rvm/scripts/rvm
